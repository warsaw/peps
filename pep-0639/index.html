
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="color-scheme" content="light dark">
    <title>PEP 639 – Improving License Clarity with Better Package Metadata | peps.python.org</title>
    <link rel="shortcut icon" href="../_static/py.png">
    <link rel="canonical" href="https://peps.python.org/pep-0639/">
    <link rel="stylesheet" href="../_static/style.css" type="text/css">
    <link rel="stylesheet" href="../_static/mq.css" type="text/css">
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" media="(prefers-color-scheme: light)" id="pyg-light">
    <link rel="stylesheet" href="../_static/pygments_dark.css" type="text/css" media="(prefers-color-scheme: dark)" id="pyg-dark">
    <link rel="alternate" type="application/rss+xml" title="Latest PEPs" href="https://peps.python.org/peps.rss">
    <meta property="og:title" content='PEP 639 – Improving License Clarity with Better Package Metadata | peps.python.org'>
    <meta property="og:type" content="website">
    <meta property="og:url" content="https://peps.python.org/pep-0639/">
    <meta property="og:site_name" content="Python Enhancement Proposals (PEPs)">
    <meta property="og:image" content="https://peps.python.org/_static/og-image.png">
    <meta property="og:image:alt" content="Python PEPs">
    <meta property="og:image:width" content="200">
    <meta property="og:image:height" content="200">
    <meta name="description" content="Python Enhancement Proposals (PEPs)">
    <meta name="theme-color" content="#3776ab">
</head>
<body>
    
<svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
  <symbol id="svg-sun-half" viewBox="0 0 24 24" pointer-events="all">
    <title>Following system colour scheme</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none"
         stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
      <circle cx="12" cy="12" r="9"></circle>
      <path d="M12 3v18m0-12l4.65-4.65M12 14.3l7.37-7.37M12 19.6l8.85-8.85"></path>
    </svg>
  </symbol>
  <symbol id="svg-moon" viewBox="0 0 24 24" pointer-events="all">
    <title>Selected dark colour scheme</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none"
         stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
      <path stroke="none" d="M0 0h24v24H0z" fill="none"></path>
      <path d="M12 3c.132 0 .263 0 .393 0a7.5 7.5 0 0 0 7.92 12.446a9 9 0 1 1 -8.313 -12.454z"></path>
    </svg>
  </symbol>
  <symbol id="svg-sun" viewBox="0 0 24 24" pointer-events="all">
    <title>Selected light colour scheme</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none"
         stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
      <circle cx="12" cy="12" r="5"></circle>
      <line x1="12" y1="1" x2="12" y2="3"></line>
      <line x1="12" y1="21" x2="12" y2="23"></line>
      <line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line>
      <line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line>
      <line x1="1" y1="12" x2="3" y2="12"></line>
      <line x1="21" y1="12" x2="23" y2="12"></line>
      <line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line>
      <line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line>
    </svg>
  </symbol>
</svg>
    <script>

        document.documentElement.dataset.colour_scheme = localStorage.getItem("colour_scheme") || "auto"
    </script>
    <section id="pep-page-section">
        <header>
            <h1>Python Enhancement Proposals</h1>
            <ul class="breadcrumbs">
                <li><a href="https://www.python.org/" title="The Python Programming Language">Python</a> &raquo; </li>
                <li><a href="../pep-0000/">PEP Index</a> &raquo; </li>
                <li>PEP 639</li>
            </ul>
            <button id="colour-scheme-cycler" onClick="setColourScheme(nextColourScheme())">
                <svg aria-hidden="true" class="colour-scheme-icon-when-auto"><use href="#svg-sun-half"></use></svg>
                <svg aria-hidden="true" class="colour-scheme-icon-when-dark"><use href="#svg-moon"></use></svg>
                <svg aria-hidden="true" class="colour-scheme-icon-when-light"><use href="#svg-sun"></use></svg>
                <span class="visually-hidden">Toggle light / dark / auto colour theme</span>
            </button>
        </header>
        <article>
            <section id="pep-content">
<h1 class="page-title">PEP 639 – Improving License Clarity with Better Package Metadata</h1>
<dl class="rfc2822 field-list simple">
<dt class="field-odd">Author<span class="colon">:</span></dt>
<dd class="field-odd">Philippe Ombredanne &lt;pombredanne&#32;&#97;t&#32;nexb.com&gt;,
C.A.M. Gerlach &lt;CAM.Gerlach&#32;&#97;t&#32;Gerlach.CAM&gt;</dd>
<dt class="field-even">PEP-Delegate<span class="colon">:</span></dt>
<dd class="field-even">Brett Cannon &lt;brett&#32;&#97;t&#32;python.org&gt;</dd>
<dt class="field-odd">Discussions-To<span class="colon">:</span></dt>
<dd class="field-odd"><a class="reference external" href="https://discuss.python.org/t/12622">Discourse thread</a></dd>
<dt class="field-even">Status<span class="colon">:</span></dt>
<dd class="field-even"><abbr title="Proposal under active discussion and revision">Draft</abbr></dd>
<dt class="field-odd">Type<span class="colon">:</span></dt>
<dd class="field-odd"><abbr title="Normative PEP with a new feature for Python, implementation change for CPython or interoperability standard for the ecosystem">Standards Track</abbr></dd>
<dt class="field-even">Topic<span class="colon">:</span></dt>
<dd class="field-even"><a class="reference external" href="../topic/packaging/">Packaging</a></dd>
<dt class="field-odd">Created<span class="colon">:</span></dt>
<dd class="field-odd">15-Aug-2019</dd>
<dt class="field-even">Post-History<span class="colon">:</span></dt>
<dd class="field-even"><a class="reference external" href="https://discuss.python.org/t/2154" title="Discourse thread">15-Aug-2019</a>,
<a class="reference external" href="https://discuss.python.org/t/12622" title="Discourse thread">17-Dec-2021</a></dd>
</dl>
<hr class="docutils" />
<section id="contents">
<details><summary>Table of Contents</summary><ul class="simple">
<li><a class="reference internal" href="#abstract">Abstract</a></li>
<li><a class="reference internal" href="#goals">Goals</a></li>
<li><a class="reference internal" href="#non-goals">Non-Goals</a></li>
<li><a class="reference internal" href="#motivation">Motivation</a></li>
<li><a class="reference internal" href="#rationale">Rationale</a></li>
<li><a class="reference internal" href="#terminology">Terminology</a></li>
<li><a class="reference internal" href="#specification">Specification</a><ul>
<li><a class="reference internal" href="#core-metadata">Core metadata</a><ul>
<li><a class="reference internal" href="#add-license-expression-field">Add <code class="docutils literal notranslate"><span class="pre">License-Expression</span></code> field</a></li>
<li><a class="reference internal" href="#add-license-file-field">Add <code class="docutils literal notranslate"><span class="pre">License-File</span></code> field</a></li>
<li><a class="reference internal" href="#deprecate-license-field">Deprecate <code class="docutils literal notranslate"><span class="pre">License</span></code> field</a></li>
<li><a class="reference internal" href="#deprecate-license-classifiers">Deprecate license classifiers</a></li>
</ul>
</li>
<li><a class="reference internal" href="#project-source-metadata">Project source metadata</a><ul>
<li><a class="reference internal" href="#add-string-value-to-license-key">Add string value to <code class="docutils literal notranslate"><span class="pre">license</span></code> key</a></li>
<li><a class="reference internal" href="#add-license-files-key">Add <code class="docutils literal notranslate"><span class="pre">license-files</span></code> key</a></li>
<li><a class="reference internal" href="#deprecate-license-key-table-subkeys">Deprecate <code class="docutils literal notranslate"><span class="pre">license</span></code> key table subkeys</a></li>
</ul>
</li>
<li><a class="reference internal" href="#license-files-in-project-formats">License files in project formats</a></li>
<li><a class="reference internal" href="#converting-legacy-metadata">Converting legacy metadata</a></li>
</ul>
</li>
<li><a class="reference internal" href="#backwards-compatibility">Backwards Compatibility</a></li>
<li><a class="reference internal" href="#security-implications">Security Implications</a></li>
<li><a class="reference internal" href="#how-to-teach-this">How to Teach This</a></li>
<li><a class="reference internal" href="#reference-implementation">Reference Implementation</a></li>
<li><a class="reference internal" href="#rejected-ideas">Rejected Ideas</a></li>
<li><a class="reference internal" href="#open-issues">Open Issues</a><ul>
<li><a class="reference internal" href="#should-the-license-field-be-back-filled-or-mutually-exclusive">Should the <code class="docutils literal notranslate"><span class="pre">License</span></code> field be back-filled, or mutually exclusive?</a></li>
<li><a class="reference internal" href="#should-custom-license-identifiers-be-allowed">Should custom license identifiers be allowed?</a></li>
</ul>
</li>
<li><a class="reference internal" href="#appendices">Appendices</a></li>
<li><a class="reference internal" href="#acknowledgments">Acknowledgments</a></li>
<li><a class="reference internal" href="#copyright">Copyright</a></li>
</ul>
</details></section>
<section id="abstract">
<span id="id1"></span><h2><a class="toc-backref" href="#abstract" role="doc-backlink">Abstract</a></h2>
<p>This PEP defines a specification for how licenses are documented in the
<a class="reference external" href="https://packaging.python.org/specifications/core-metadata">core metadata</a>, with
<a class="reference internal" href="#spec-field-license-expression"><span class="std std-ref">license expression strings</span></a> using
<a class="reference external" href="https://spdx.dev/ids/">SPDX identifiers</a> in a new <code class="docutils literal notranslate"><span class="pre">License-Expression</span></code> field.
This will make license declarations simpler and less ambiguous for
package authors to create, end users to read and understand, and
tools to programmatically process.</p>
<p>The PEP also:</p>
<ul class="simple">
<li><a class="reference internal" href="#spec-field-license-file"><span class="std std-ref">Formally specifies</span></a>
a new <code class="docutils literal notranslate"><span class="pre">License-File</span></code> field, and defines how license files should be
<a class="reference internal" href="#spec-project-formats"><span class="std std-ref">included in distributions</span></a>,
as already used by the Wheel and Setuptools projects.</li>
<li>Deprecates the legacy <code class="docutils literal notranslate"><span class="pre">License</span></code> <a class="reference internal" href="#spec-field-license"><span class="std std-ref">field</span></a>
and <code class="docutils literal notranslate"><span class="pre">license</span> <span class="pre">::</span></code> <a class="reference internal" href="#spec-field-classifier"><span class="std std-ref">classifiers</span></a>.</li>
<li><a class="reference internal" href="#spec-source-metadata"><span class="std std-ref">Adds and deprecates</span></a> the corresponding keys
in the <code class="docutils literal notranslate"><span class="pre">pyproject.toml</span></code> <code class="docutils literal notranslate"><span class="pre">[project]</span></code> table.</li>
<li><a class="reference internal" href="#spec-converting-metadata"><span class="std std-ref">Provides clear guidance</span></a> for authors and
tools converting legacy license metadata, adding license files and
validating license expressions.</li>
<li>Describes a <a class="reference internal" href="#reference-implementation"><span class="std std-ref">reference implementation</span></a>
and analyzes numerous <a class="reference internal" href="#rejected-ideas"><span class="std std-ref">potential alternatives</span></a>.</li>
</ul>
<p>The changes in this PEP will update the
<a class="reference external" href="https://packaging.python.org/specifications/core-metadata">core metadata</a> to version 2.4, modify the
<a class="reference external" href="https://packaging.python.org/specifications/declaring-project-metadata/">project (source) metadata specification</a>,
and make minor additions to the <a class="reference external" href="https://packaging.python.org/specifications/source-distribution-format/">source distribution (sdist)</a>,
<a class="reference external" href="https://packaging.python.org/specifications/binary-distribution-format/">built distribution (wheel)</a> and
<a class="reference external" href="https://packaging.python.org/specifications/recording-installed-packages/">installed project</a> standards.</p>
</section>
<section id="goals">
<span id="id2"></span><h2><a class="toc-backref" href="#goals" role="doc-backlink">Goals</a></h2>
<p>This PEP’s scope is limited to covering new mechanisms for documenting
the license of a distribution package, specifically defining:</p>
<ul class="simple">
<li>A means of specifying a SPDX license expression.</li>
<li>A method of including license texts in distributions and installed projects.</li>
</ul>
<p>The changes to the core metadata specification that this PEP requires have been
designed to minimize impact and maximize backward compatibility.
This specification builds off of existing ways to document licenses that are
already in use in popular tools (e.g. adding support to core metadata for the
<code class="docutils literal notranslate"><span class="pre">License-File</span></code> field <a class="reference internal" href="appendix-license-survey/#license-doc-setuptools-wheel"><span class="std std-ref">already used</span></a>
in the Wheel and Setuptools projects) and by some package authors
(e.g. storing an SPDX license expression in the existing <code class="docutils literal notranslate"><span class="pre">License</span></code> field).</p>
<p>In addition to these proposed changes, this PEP contains guidance for tools
handling and converting these metadata, a tutorial for package authors
covering various common use cases, detailed examples of them in use,
and a comprehensive survey of license documentation in Python and other
languages.</p>
<p>It is the intent of the PEP authors to work closely with tool maintainers to
implement the recommendations for validation and warnings specified here.</p>
</section>
<section id="non-goals">
<span id="id3"></span><h2><a class="toc-backref" href="#non-goals" role="doc-backlink">Non-Goals</a></h2>
<p>This PEP is neutral regarding the choice of license by any particular
package author. This PEP makes no recommendation for specific licenses,
and does not require the use of a particular license documentation convention.</p>
<p>Rather, the SPDX license expression syntax proposed in this PEP provides a
simpler and more expressive mechanism to accurately document any kind of
license that applies to a Python package, whether it is open source,
free/libre, proprietary, or a combination of such.</p>
<p>This PEP also does not impose any additional restrictions when uploading to
PyPI, unless projects choose to make use of the new fields.</p>
<p>Instead, it is intended to document best practices already in use, extend them
to use a new formally-specified and supported mechanism, and provide guidance
for packaging tools on how to hand the transition and inform users accordingly.</p>
<p>This PEP also is not about license documentation in files inside projects,
though this is a <a class="reference internal" href="appendix-license-survey/#license-doc-source-files"><span class="std std-ref">surveyed topic</span></a>
in an appendix, and nor does it intend to cover cases where the source and
binary distribution packages don’t have <a class="reference internal" href="appendix-rejected-ideas/#rejected-ideas-difference-license-source-binary"><span class="std std-ref">the same licenses</span></a>.</p>
</section>
<section id="motivation">
<span id="id4"></span><h2><a class="toc-backref" href="#motivation" role="doc-backlink">Motivation</a></h2>
<p>Software must be licensed in order for anyone other than its creator to
download, use, share and modify it, so providing accurate license information
to Python package users is an important matter.
Today, there are multiple fields where
licenses are documented in core metadata, and there are limitations to what
can be expressed in each of them. This often leads to confusion and a lack of
clarity, both for package authors and end users.</p>
<p>Many package authors have expressed difficulty and frustrations due to the
limited capabilities to express licensing in project metadata, and this
creates further trouble for Linux and BSD distribution re-packagers.
This has triggered a number of license-related discussions and issues,
including on <a class="reference external" href="https://github.com/pypa/trove-classifiers/issues/17">outdated and ambiguous PyPI classifiers</a>,
<a class="reference external" href="https://github.com/pypa/interoperability-peps/issues/46">license interoperability with other ecosystems</a>,
<a class="reference external" href="https://github.com/pypa/packaging-problems/issues/41">too many confusing license metadata options</a>,
<a class="reference external" href="https://github.com/pypa/wheel/issues/138">limited support for license files in the Wheel project</a>, and
<a class="reference external" href="https://github.com/pombredanne/spdx-pypi-pep/issues/1">the lack of clear, precise and standardized license metadata</a>.</p>
<p>The current license classifiers address some common cases, and could
be extended to include the full range of current SPDX identifiers
while deprecating the many ambiguous classifiers
(including some popular and problematic ones,
such as <code class="docutils literal notranslate"><span class="pre">License</span> <span class="pre">::</span> <span class="pre">OSI</span> <span class="pre">Approved</span> <span class="pre">::</span> <span class="pre">BSD</span> <span class="pre">License</span></code>).
However, this requires a substantial amount of effort
to duplicate the SPDX license list and keep it in sync.
Furthermore, it is effectively a hard break in backward compatibility,
forcing a huge proportion of package authors to immediately update to new
classifiers (in most cases, with many possible choices that require closely
examining the project’s license) immediately when PyPI deprecates the old ones.</p>
<p>Furthermore, this only covers simple packages entirely under a single license;
it doesn’t address the substantial fraction of common projects that vendor
dependencies (e.g. Setuptools), offer a choice of licenses (e.g. Packaging)
or were relicensed, adapt code from other projects or contain fonts, images,
examples, binaries or other assets under other licenses. It also requires
both authors and tools understand and implement the PyPI-specific bespoke
classifier system, rather than using short, easy to add and standardized
SPDX identifiers in a simple text field, as increasingly widely adopted by
most other packaging systems to reduce the overall burden on the ecosystem.
Finally, this does not provide as clear an indicator that a package
has adopted the new system, and should be treated accordingly.</p>
<p>On average, Python packages tend to have more ambiguous and missing license
information than other common ecosystems (such as npm, Maven or
Gem). This is supported by the <a class="reference external" href="https://clearlydefined.io/stats">statistics page</a> of the
<a class="reference external" href="https://clearlydefined.io">ClearlyDefined project</a>, an
<a class="reference external" href="https://opensource.org">Open Source Initiative</a> incubated effort to help
improve licensing clarity of other FOSS projects, covering all packages
from PyPI, Maven, npm and Rubygems.</p>
</section>
<section id="rationale">
<span id="id5"></span><h2><a class="toc-backref" href="#rationale" role="doc-backlink">Rationale</a></h2>
<p>A survey of existing license metadata definitions in use in the Python
ecosystem today is provided in
<a class="reference internal" href="appendix-license-survey/#license-doc-python"><span class="std std-ref">an appendix</span></a> of this PEP,
and license documentation in a variety of other packaging systems,
Linux distros, languages ecosystems and applications is surveyed in
<a class="reference internal" href="appendix-license-survey/#license-doc-other-projects"><span class="std std-ref">another appendix</span></a>.</p>
<p>There are a few takeaways from the survey, which have guided the design
and recommendations of this PEP:</p>
<ul class="simple">
<li>Most package formats use a single <code class="docutils literal notranslate"><span class="pre">License</span></code> field.</li>
<li>Many modern package systems use some form of license expression syntax to
optionally combine more than one license identifier together.
SPDX and SPDX-like syntaxes are the most popular in use.</li>
<li>SPDX license identifiers are becoming the de facto way to reference common
licenses everywhere, whether or not a full license expression syntax is used.</li>
<li>Several package formats support documenting both a license expression and the
paths of the corresponding files that contain the license text. Most Free and
Open Source Software licenses require package authors to include their full
text in a distribution.</li>
</ul>
<p>The use of a new <code class="docutils literal notranslate"><span class="pre">License-Expression</span></code> field will provide an intuitive,
structured and unambiguous way to express the license of a
package using a well-defined syntax and well-known license identifiers.
Similarly, a formally-specified <code class="docutils literal notranslate"><span class="pre">License-File</span></code> field offers a standardized
way to ensure that the full text of the license(s) are included with the
package when distributed, as legally required, and allows other tools consuming
the core metadata to unambiguously locate a distribution’s license files.</p>
<p>While dramatically simplifying and improving the present Python license
metadata story, this specification standardizes and builds upon
existing practice in the <a class="reference external" href="https://github.com/pypa/setuptools/issues/2739">Setuptools</a> and
<a class="reference external" href="https://github.com/pypa/wheel/issues/138">Wheel</a> projects.
Furthermore, an up-to-date version of the current draft of this PEP is
<a class="reference external" href="https://discuss.python.org/t/12622/22">already successfully implemented</a> in the popular
PyPA <a class="reference external" href="https://hatch.pypa.io/latest/">Hatch</a> packaging tool, and an earlier draft of the
license files portion is <a class="reference external" href="https://github.com/pypa/setuptools/pull/2645">implemented in Setuptools</a>.</p>
<p>Over time, encouraging the use of these fields and deprecating the ambiguous,
duplicative and confusing legacy alternatives will help Python software
publishers improve the clarity, accuracy and portability of their licensing
practices, to the benefit of package authors, consumers and redistributors
alike.</p>
</section>
<section id="terminology">
<span id="id6"></span><h2><a class="toc-backref" href="#terminology" role="doc-backlink">Terminology</a></h2>
<p>This PEP seeks to clearly define the terms it uses, given that some have
multiple established meanings (e.g. import vs. distribution package,
wheel <em>format</em> vs. Wheel <em>project</em>); are related and often used
interchangeably, but have critical distinctions in meaning
(e.g. <code class="docutils literal notranslate"><span class="pre">[project]</span></code> <em>key</em> vs. core metadata <em>field</em>); are existing concepts
that don’t have formal terms/definitions (e.g. project/source metadata vs.
distribution/built metadata, build vs. publishing tools), or are new concepts
introduced here (e.g. license expression/identifier).</p>
<p>This PEP also uses terms defined in the
<a class="reference external" href="https://packaging.python.org/glossary/">PyPA PyPUG Glossary</a>
(specifically <em>built/binary distribution</em>, <em>distribution package</em>,
<em>project</em> and <em>source distribution</em>), and by the <a class="reference external" href="https://spdx.dev/">SPDX Project</a>
(<em>license identifier</em>, <em>license expression</em>).</p>
<p>The keywords “MUST”, “MUST NOT”, “REQUIRED”,
“SHOULD”, “SHOULD NOT”, “RECOMMENDED”, “MAY”, and “OPTIONAL”
in this document are to be interpreted as described in <span class="target" id="index-0"></span><a class="rfc reference external" href="https://datatracker.ietf.org/doc/html/rfc2119.html"><strong>RFC 2119</strong></a>.</p>
<p>Terms are listed here in their full versions;
related words (<code class="docutils literal notranslate"><span class="pre">Rel:</span></code>) are in parenthesis,
including short forms (<code class="docutils literal notranslate"><span class="pre">Short:</span></code>), sub-terms (<code class="docutils literal notranslate"><span class="pre">Sub:</span></code>) and common synonyms
for the purposes of this PEP (<code class="docutils literal notranslate"><span class="pre">Syn:</span></code>).</p>
<dl>
<dt><strong>Core Metadata</strong> <em>(Syn: Package Metadata, Sub: Distribution Metadata)</em></dt><dd>The <a class="reference external" href="https://packaging.python.org/specifications/core-metadata">PyPA specification</a> and the set of metadata fields
it defines that describe key static attributes of distribution packages
and installed projects.<p>The <strong>distribution metadata</strong> refers to, more specifically, the concrete form
core metadata takes when included inside a distribution archive
(<code class="docutils literal notranslate"><span class="pre">PKG-INFO</span></code> in a sdist and <code class="docutils literal notranslate"><span class="pre">METADATA</span></code> in a wheel) or installed project
(<code class="docutils literal notranslate"><span class="pre">METADATA</span></code>).</p>
</dd>
<dt><strong>Core Metadata Field</strong> <em>(Short: Metadata Field/Field)</em></dt><dd>A single key-value pair, or sequence of such with the same key, as defined
by the <a class="reference external" href="https://packaging.python.org/specifications/core-metadata">core metadata specification</a>.
Notably, distinct from a <code class="docutils literal notranslate"><span class="pre">pyproject.toml</span></code> <code class="docutils literal notranslate"><span class="pre">[project]</span></code> table <em>key</em>.</dd>
<dt><strong>Distribution Package</strong> <em>(Sub: Package, Distribution Archive)</em></dt><dd>(<a class="reference external" href="https://packaging.python.org/en/latest/glossary/#term-Distribution-Package">See PyPUG</a>)
In this PEP, <strong>package</strong> is used to refer to the abstract concept of a
distributable form of a Python project, while <strong>distribution</strong> more
specifically references the physical <strong>distribution archive</strong>.</dd>
<dt><strong>License Classifier</strong></dt><dd>A <a class="reference external" href="https://pypi.org/classifiers">PyPI Trove classifier</a>
(as <a class="reference external" href="https://packaging.python.org/en/latest/specifications/core-metadata/#classifier-multiple-use">described in the core metadata specification</a>)
which begins with <code class="docutils literal notranslate"><span class="pre">License</span> <span class="pre">::</span></code>, currently used to indicate
a project’s license status by including it as a <code class="docutils literal notranslate"><span class="pre">Classifier</span></code>
in the core metadata.</dd>
<dt><strong>License Expression</strong> <em>(Syn: SPDX Expression)</em></dt><dd>A string with valid <a class="reference external" href="https://spdx.github.io/spdx-spec/v2.2.2/SPDX-license-expressions/">SPDX license expression syntax</a>
including any SPDX license identifiers as defined here, which describes
a project’s license(s) and how they relate to one another. Examples:
<code class="docutils literal notranslate"><span class="pre">GPL-3.0-or-later</span></code>, <code class="docutils literal notranslate"><span class="pre">MIT</span> <span class="pre">AND</span> <span class="pre">(Apache-2.0</span> <span class="pre">OR</span> <span class="pre">BSD-2-clause)</span></code></dd>
<dt><strong>License Identifier</strong> <em>(Syn: License ID/SPDX Identifier)</em></dt><dd>A valid <a class="reference external" href="https://spdx.dev/ids/">SPDX short-form license identifier</a>, as described in the
<a class="reference internal" href="#spec-field-license-expression"><span class="std std-ref">Add License-Expression field</span></a> section of this PEP; briefly,
this includes all valid SPDX identifiers and the <code class="docutils literal notranslate"><span class="pre">LicenseRef-Public-Domain</span></code>
and <code class="docutils literal notranslate"><span class="pre">LicenseRef-Proprietary</span></code> strings. Examples: <code class="docutils literal notranslate"><span class="pre">MIT</span></code>, <code class="docutils literal notranslate"><span class="pre">GPL-3.0-only</span></code></dd>
<dt><strong>Project</strong> <em>(Sub: Project Source Tree, Installed Project)</em></dt><dd>(<a class="reference external" href="https://packaging.python.org/en/latest/glossary/#term-Project">See PyPUG</a>)
Here, a <strong>project source tree</strong> refers to the on-disk format of
a project used for development, while an <strong>installed project</strong> is the form a
project takes once installed from a distribution, as
<a class="reference external" href="https://packaging.python.org/specifications/recording-installed-packages/">specified by PyPA</a>.</dd>
<dt><strong>Project Source Metadata</strong> <em>(Sub: Project Table Metadata, Key, Subkey)</em></dt><dd>Core metadata defined by the package author in the project source tree,
as top-level keys in the <code class="docutils literal notranslate"><span class="pre">[project]</span></code> table of a <code class="docutils literal notranslate"><span class="pre">pyproject.toml</span></code> file,
in the <code class="docutils literal notranslate"><span class="pre">[metadata]</span></code> table of <code class="docutils literal notranslate"><span class="pre">setup.cfg</span></code>, or the equivalent for other
build tools.<p>The <strong>Project Table Metadata</strong>, or <code class="docutils literal notranslate"><span class="pre">pyproject.toml</span></code> <code class="docutils literal notranslate"><span class="pre">[project]</span></code> metadata,
refers specifically to the former, as defined by the
<a class="reference external" href="https://packaging.python.org/specifications/declaring-project-metadata/">PyPA Declaring Project Metadata specification</a>
and originally specified in <a class="pep reference internal" href="../pep-0621/" title="PEP 621 – Storing project metadata in pyproject.toml">PEP 621</a>.
A <strong>Project Table Key</strong>, or an unqualified <em>key</em> refers specifically to
a top-level <code class="docutils literal notranslate"><span class="pre">[project]</span></code> key
(notably, distinct from a core metadata <em>field</em>),
while a <strong>subkey</strong> refers to a second-level key in a table-valued
<code class="docutils literal notranslate"><span class="pre">[project]</span></code> key.</p>
</dd>
<dt><strong>Root License Directory</strong> <em>(Short: License Directory)</em></dt><dd>The directory under which license files are stored in a project/distribution
and the root directory that their paths, as recorded under the
<code class="docutils literal notranslate"><span class="pre">License-File</span></code> core metadata fields, are relative to.
Defined here to be the project root directory for source trees and source
distributions, and a subdirectory named <code class="docutils literal notranslate"><span class="pre">licenses</span></code> of the directory
containing the core metadata (i.e., the <code class="docutils literal notranslate"><span class="pre">.dist-info/licenses</span></code>
directory) for built distributions and installed projects.</dd>
<dt><strong>Tool</strong> <em>(Sub: Packaging Tool, Build Tool, Install Tool, Publishing Tool)</em></dt><dd>A program, script or service executed by the user or automatically that
seeks to conform to the specification defined in this PEP.<p>A <strong>packaging tool</strong> refers to a tool used to build, publish,
install, or otherwise directly interact with Python packages.</p>
<p>A <strong>build tool</strong> is a packaging tool used to generate a source or built
distribution from a project source tree or sdist, when directly invoked
as such (as opposed to by end-user-facing install tools).
Examples: Wheel project, <a class="pep reference internal" href="../pep-0517/" title="PEP 517 – A build-system independent format for source trees">PEP 517</a> backends via <code class="docutils literal notranslate"><span class="pre">build</span></code> or other
package-developer-facing frontends, calling <code class="docutils literal notranslate"><span class="pre">setup.py</span></code> directly.</p>
<p>An <strong>install tool</strong> is a packaging tool used to install a source or built
distribution in a target environment. Examples include the PyPA pip and
<code class="docutils literal notranslate"><span class="pre">installer</span></code> projects.</p>
<p>A <strong>publishing tool</strong> is a packaging tool used to upload distribution
archives to a package index, such as Twine for PyPI.</p>
</dd>
<dt><strong>Wheel</strong> <em>(Short: wheel, Rel: wheel format, Wheel project)</em></dt><dd>Here, <strong>wheel</strong>, the standard built distribution format introduced in
<a class="pep reference internal" href="../pep-0427/" title="PEP 427 – The Wheel Binary Package Format 1.0">PEP 427</a> and <a class="reference external" href="https://packaging.python.org/specifications/binary-distribution-format/">specified by the PyPA</a>, will be referred to in
lowercase, while the <a class="reference external" href="https://wheel.readthedocs.io/en/stable/">Wheel project</a>, its reference
implementation, will be referred to as such with <strong>Wheel</strong> in Title Case.</dd>
</dl>
</section>
<section id="specification">
<span id="id7"></span><h2><a class="toc-backref" href="#specification" role="doc-backlink">Specification</a></h2>
<p>The changes necessary to implement the improved license handling outlined in
this PEP include those in both
<a class="reference internal" href="#spec-core-metadata"><span class="std std-ref">distribution package metadata</span></a>,
as defined in the <a class="reference external" href="https://packaging.python.org/specifications/core-metadata">core metadata specification</a>, and
<a class="reference internal" href="#spec-source-metadata"><span class="std std-ref">author-provided project source metadata</span></a>,
as defined in the <a class="reference external" href="_pep621spec">project source metadata specification</a>
(and originally introduced in <a class="pep reference internal" href="../pep-0621/" title="PEP 621 – Storing project metadata in pyproject.toml">PEP 621</a>).</p>
<p>Further, <a class="reference internal" href="#spec-project-formats"><span class="std std-ref">minor additions</span></a> to the
source distribution (sdist), built distribution (wheel) and installed project
specifications will help document and clarify the already allowed,
now formally standardized behavior in these respects.
Finally, <a class="reference internal" href="#spec-converting-metadata"><span class="std std-ref">guidance is established</span></a>
for tools handling and converting legacy license metadata to license
expressions, to ensure the results are consistent, correct and unambiguous.</p>
<p>Note that the guidance on errors and warnings is for tools’ default behavior;
they MAY operate more strictly if users explicitly configure them to do so,
such as by a CLI flag or a configuration option.</p>
<section id="core-metadata">
<span id="spec-core-metadata"></span><h3><a class="toc-backref" href="#core-metadata" role="doc-backlink">Core metadata</a></h3>
<p>The <a class="reference external" href="https://packaging.python.org/specifications/core-metadata">PyPA Core Metadata specification</a> defines the names
and semantics of each of the supported fields in the distribution metadata of
Python distribution packages and installed projects.</p>
<p>This PEP <a class="reference internal" href="#spec-field-license-expression"><span class="std std-ref">adds</span></a> the
<code class="docutils literal notranslate"><span class="pre">License-Expression</span></code> field,
<a class="reference internal" href="#spec-field-license-file"><span class="std std-ref">adds</span></a> the <code class="docutils literal notranslate"><span class="pre">License-File</span></code> field,
<a class="reference internal" href="#spec-field-license"><span class="std std-ref">deprecates</span></a> the <code class="docutils literal notranslate"><span class="pre">License</span></code> field,
and <a class="reference internal" href="#spec-field-classifier"><span class="std std-ref">deprecates</span></a> the license classifiers
in the <code class="docutils literal notranslate"><span class="pre">Classifier</span></code> field.</p>
<p>The error and warning guidance in this section applies to build and
publishing tools; end-user-facing install tools MAY be more lenient than
mentioned here when encountering malformed metadata
that does not conform to this specification.</p>
<p>As it adds new fields, this PEP updates the core metadata to version 2.4.</p>
<section id="add-license-expression-field">
<span id="spec-field-license-expression"></span><h4><a class="toc-backref" href="#add-license-expression-field" role="doc-backlink">Add <code class="docutils literal notranslate"><span class="pre">License-Expression</span></code> field</a></h4>
<p>The <code class="docutils literal notranslate"><span class="pre">License-Expression</span></code> optional field is specified to contain a text string
that is a valid SPDX license expression, as defined herein.</p>
<p>Publishing tools SHOULD issue an informational warning if this field is
missing, and MAY raise an error. Build tools MAY issue a similar warning,
but MUST NOT raise an error.</p>
<p id="license-expression-definition">A license expression is a string using the SPDX license expression syntax as
documented in the <a class="reference external" href="https://spdx.github.io/spdx-spec/v2.2.2/SPDX-license-expressions/">SPDX specification</a>, either
Version 2.2 or a later compatible version.</p>
<p>When used in the <code class="docutils literal notranslate"><span class="pre">License-Expression</span></code> field and as a specialization of
the SPDX license expression definition, a license expression can use the
following license identifiers:</p>
<ul class="simple">
<li>Any SPDX-listed license short-form identifiers that are published in the
<a class="reference external" href="https://spdx.org/licenses/">SPDX License List</a>, version 3.17 or any later compatible
version. Note that the SPDX working group never removes any license
identifiers; instead, they may choose to mark an identifier as “deprecated”.</li>
<li>The <code class="docutils literal notranslate"><span class="pre">LicenseRef-Public-Domain</span></code> and <code class="docutils literal notranslate"><span class="pre">LicenseRef-Proprietary</span></code> strings, to
identify licenses that are not included in the SPDX license list.</li>
</ul>
<p>When processing the <code class="docutils literal notranslate"><span class="pre">License-Expression</span></code> field to determine if it contains
a valid license expression, build and publishing tools:</p>
<ul class="simple">
<li>SHOULD halt execution and raise an error if:<ul>
<li>The field does not contain a valid license expression</li>
<li>One or more license identifiers are not valid
(as <a class="reference internal" href="#license-expression-definition"><span class="std std-ref">defined above</span></a>)</li>
</ul>
</li>
<li>SHOULD report an informational warning, and publishing tools MAY raise an
error, if one or more license identifiers have been marked as deprecated in
the <a class="reference external" href="https://spdx.org/licenses/">SPDX License List</a>.</li>
<li>MUST store a case-normalized version of the <code class="docutils literal notranslate"><span class="pre">License-Expression</span></code> field
using the reference case for each SPDX license identifier and
uppercase for the <code class="docutils literal notranslate"><span class="pre">AND</span></code>, <code class="docutils literal notranslate"><span class="pre">OR</span></code> and <code class="docutils literal notranslate"><span class="pre">WITH</span></code> keywords.</li>
<li>SHOULD report an informational warning, and MAY raise an error if
the normalization process results in changes to the
<code class="docutils literal notranslate"><span class="pre">License-Expression</span></code> field contents.</li>
</ul>
<p>For all newly-upload distributions that include a
<code class="docutils literal notranslate"><span class="pre">License-Expression</span></code> field, the <a class="reference external" href="https://pypi.org/">Python Package Index (PyPI)</a> MUST
validate that it contains a valid, case-normalized license expression with
valid identifiers (as defined here) and MUST reject uploads that do not.
PyPI MAY reject an upload for using a deprecated license identifier,
so long as it was deprecated as of the above-mentioned SPDX License List
version.</p>
</section>
<section id="add-license-file-field">
<span id="spec-field-license-file"></span><h4><a class="toc-backref" href="#add-license-file-field" role="doc-backlink">Add <code class="docutils literal notranslate"><span class="pre">License-File</span></code> field</a></h4>
<p>Each instance of the <code class="docutils literal notranslate"><span class="pre">License-File</span></code> optional field is specified to contain
the string representation of the path in the project source tree, relative to
the project root directory, of a license-related file.
It is a multi-use field that may appear zero or
more times, each instance listing the path to one such file. Files specified
under this field could include license text, author/attribution information,
or other legal notices that need to be distributed with the package.</p>
<p>As <a class="reference internal" href="#spec-project-formats"><span class="std std-ref">specified by this PEP</span></a>, its value
is also that file’s path relative to the root license directory in both
installed projects and the standardized distribution package types.
In other legacy, non-standard or new distribution package formats and
mechanisms of accessing and storing core metadata, the value MAY correspond
to the license file path relative to a format-defined root license directory.
Alternatively, it MAY be treated as a unique abstract key to access the
license file contents by another means, as specified by the format.</p>
<p>If a <code class="docutils literal notranslate"><span class="pre">License-File</span></code> is listed in a source or built distribution’s core
metadata, that file MUST be included in the distribution at the specified path
relative to the root license directory, and MUST be installed with the
distribution at that same relative path.</p>
<p>The specified relative path MUST be consistent between project source trees,
source distributions (sdists), built distributions (wheels) and installed
projects. Therefore, inside the root license directory, packaging tools
MUST reproduce the directory structure under which the
source license files are located relative to the project root.</p>
<p>Path delimiters MUST be the forward slash character (<code class="docutils literal notranslate"><span class="pre">/</span></code>),
and parent directory indicators (<code class="docutils literal notranslate"><span class="pre">..</span></code>) MUST NOT be used.
License file content MUST be UTF-8 encoded text.</p>
<p>Build tools MAY and publishing tools SHOULD produce an informative warning
if a built distribution’s metadata contains no <code class="docutils literal notranslate"><span class="pre">License-File</span></code> entries,
and publishing tools MAY but build tools MUST NOT raise an error.</p>
<p>For all newly-uploaded distribution packages that include one or more
<code class="docutils literal notranslate"><span class="pre">License-File</span></code> fields and declare a <code class="docutils literal notranslate"><span class="pre">Metadata-Version</span></code> of <code class="docutils literal notranslate"><span class="pre">2.4</span></code> or
higher, PyPI SHOULD validate that the specified files are present in all
uploaded distributions, and MUST reject uploads that do not validate.</p>
</section>
<section id="deprecate-license-field">
<span id="spec-field-license"></span><h4><a class="toc-backref" href="#deprecate-license-field" role="doc-backlink">Deprecate <code class="docutils literal notranslate"><span class="pre">License</span></code> field</a></h4>
<p>The legacy unstructured-text <code class="docutils literal notranslate"><span class="pre">License</span></code> field is deprecated and replaced by
the new <code class="docutils literal notranslate"><span class="pre">License-Expression</span></code> field. Build and publishing tools MUST raise
an error if both these fields are present and their values are not identical,
including capitalization and excluding leading and trailing whitespace.</p>
<p>If only the <code class="docutils literal notranslate"><span class="pre">License</span></code> field is present, such tools SHOULD issue a warning
informing users it is deprecated and recommending <code class="docutils literal notranslate"><span class="pre">License-Expression</span></code>
instead.</p>
<p>For all newly-uploaded distributions that include a
<code class="docutils literal notranslate"><span class="pre">License-Expression</span></code> field, the <a class="reference external" href="https://pypi.org/">Python Package Index (PyPI)</a> MUST
reject any that specify a <code class="docutils literal notranslate"><span class="pre">License</span></code> field and the text of which is not
identical to that of <code class="docutils literal notranslate"><span class="pre">License-Expression</span></code>, as defined in this section.</p>
<p>Along with license classifiers, the <code class="docutils literal notranslate"><span class="pre">License</span></code> field may be removed from a
new version of the specification in a future PEP.</p>
</section>
<section id="deprecate-license-classifiers">
<span id="spec-field-classifier"></span><h4><a class="toc-backref" href="#deprecate-license-classifiers" role="doc-backlink">Deprecate license classifiers</a></h4>
<p>Using license <a class="reference external" href="https://pypi.org/classifiers">classifiers</a> in the <code class="docutils literal notranslate"><span class="pre">Classifier</span></code> field
(<a class="reference external" href="https://packaging.python.org/en/latest/specifications/core-metadata/#classifier-multiple-use">described in the core metadata specification</a>)
is deprecated and replaced by the more precise <code class="docutils literal notranslate"><span class="pre">License-Expression</span></code> field.</p>
<p>If the <code class="docutils literal notranslate"><span class="pre">License-Expression</span></code> field is present, build tools SHOULD and
publishing tools MUST raise an error if one or more license classifiers
is included in a <code class="docutils literal notranslate"><span class="pre">Classifier</span></code> field, and MUST NOT add
such classifiers themselves.</p>
<p>Otherwise, if this field contains a license classifier, build tools MAY
and publishing tools SHOULD issue a warning informing users such classifiers
are deprecated, and recommending <code class="docutils literal notranslate"><span class="pre">License-Expression</span></code> instead.
For compatibility with existing publishing and installation processes,
the presence of license classifiers SHOULD NOT raise an error unless
<code class="docutils literal notranslate"><span class="pre">License-Expression</span></code> is also provided.</p>
<p>For all newly-uploaded distributions that include a
<code class="docutils literal notranslate"><span class="pre">License-Expression</span></code> field, the <a class="reference external" href="https://pypi.org/">Python Package Index (PyPI)</a> MUST
reject any that also specify any license classifiers.</p>
<p>New license classifiers MUST NOT be <a class="reference external" href="https://github.com/pypa/trove-classifiers">added to PyPI</a>;
users needing them SHOULD use the <code class="docutils literal notranslate"><span class="pre">License-Expression</span></code> field instead.
Along with the <code class="docutils literal notranslate"><span class="pre">License</span></code> field, license classifiers may be removed from a
new version of the specification in a future PEP.</p>
</section>
</section>
<section id="project-source-metadata">
<span id="spec-source-metadata"></span><h3><a class="toc-backref" href="#project-source-metadata" role="doc-backlink">Project source metadata</a></h3>
<p>As originally introduced in <a class="pep reference internal" href="../pep-0621/" title="PEP 621 – Storing project metadata in pyproject.toml">PEP 621</a>, the
<a class="reference external" href="https://packaging.python.org/specifications/declaring-project-metadata/">PyPA Declaring Project Metadata specification</a>
defines how to declare a project’s source
metadata under a <code class="docutils literal notranslate"><span class="pre">[project]</span></code> table in the <code class="docutils literal notranslate"><span class="pre">pyproject.toml</span></code> file for
build tools to consume and output distribution core metadata.</p>
<p>This PEP <a class="reference internal" href="#spec-key-license-expression"><span class="std std-ref">adds</span></a>
a top-level string value for the <code class="docutils literal notranslate"><span class="pre">license</span></code> key,
<a class="reference internal" href="#spec-key-license-files"><span class="std std-ref">adds</span></a> the new <code class="docutils literal notranslate"><span class="pre">license-files</span></code> key
and <a class="reference internal" href="#spec-key-license"><span class="std std-ref">deprecates</span></a>
the table value for the <code class="docutils literal notranslate"><span class="pre">license</span></code> key
along with its corresponding table subkeys, <code class="docutils literal notranslate"><span class="pre">text</span></code> and <code class="docutils literal notranslate"><span class="pre">file</span></code>.</p>
<section id="add-string-value-to-license-key">
<span id="spec-key-license-expression"></span><h4><a class="toc-backref" href="#add-string-value-to-license-key" role="doc-backlink">Add string value to <code class="docutils literal notranslate"><span class="pre">license</span></code> key</a></h4>
<p>A top-level string value is defined
for the <code class="docutils literal notranslate"><span class="pre">license</span></code> key in the <code class="docutils literal notranslate"><span class="pre">[project]</span></code> table,
which is specified to be a valid SPDX license expression,
as <a class="reference internal" href="#license-expression-definition"><span class="std std-ref">defined previously</span></a>.
Its value maps to the <code class="docutils literal notranslate"><span class="pre">License-Expression</span></code> field in the core metadata.</p>
<p>Build tools SHOULD validate the expression as described in the
<a class="reference internal" href="#spec-field-license-expression"><span class="std std-ref">Add License-Expression field</span></a> section,
outputting an error or warning as specified.
When generating the core metadata, tools MUST perform case normalization.</p>
<p>If a top-level string value for the <code class="docutils literal notranslate"><span class="pre">license</span></code> key is present and valid,
for purposes of backward compatibility
tools MAY back-fill the <code class="docutils literal notranslate"><span class="pre">License</span></code> core metadata field
with the normalized value of the <code class="docutils literal notranslate"><span class="pre">license</span></code> key.</p>
</section>
<section id="add-license-files-key">
<span id="spec-key-license-files"></span><h4><a class="toc-backref" href="#add-license-files-key" role="doc-backlink">Add <code class="docutils literal notranslate"><span class="pre">license-files</span></code> key</a></h4>
<p>A new <code class="docutils literal notranslate"><span class="pre">license-files</span></code> key is added to the <code class="docutils literal notranslate"><span class="pre">[project]</span></code> table for specifying
paths in the project source tree relative to <code class="docutils literal notranslate"><span class="pre">pyproject.toml</span></code> to file(s)
containing licenses and other legal notices to be distributed with the package.
It corresponds to the <code class="docutils literal notranslate"><span class="pre">License-File</span></code> fields in the core metadata.</p>
<p>Its value is a table, which if present MUST contain one of two optional,
mutually exclusive subkeys, <code class="docutils literal notranslate"><span class="pre">paths</span></code> and <code class="docutils literal notranslate"><span class="pre">globs</span></code>; if both are specified,
tools MUST raise an error. Both are arrays of strings; the <code class="docutils literal notranslate"><span class="pre">paths</span></code> subkey
contains verbatim file paths, and the <code class="docutils literal notranslate"><span class="pre">globs</span></code> subkey valid glob patterns,
which MUST be parsable by the <code class="docutils literal notranslate"><span class="pre">glob</span></code> <a class="reference external" href="https://docs.python.org/3/library/glob.html">module</a> in the
Python standard library.</p>
<p><strong>Note</strong>: To avoid ambiguity, confusion and (per <a class="pep reference internal" href="../pep-0020/" title="PEP 20 – The Zen of Python">PEP 20</a>, the Zen of Python)
“more than one (obvious) way to do it”, allowing a flat array of strings
as the value for the <code class="docutils literal notranslate"><span class="pre">license-files</span></code> key has been
<a class="reference internal" href="appendix-rejected-ideas/#license-files-allow-flat-array"><span class="std std-ref">left out for now</span></a>.</p>
<p>Path delimiters MUST be the forward slash character (<code class="docutils literal notranslate"><span class="pre">/</span></code>),
and parent directory indicators (<code class="docutils literal notranslate"><span class="pre">..</span></code>) MUST NOT be used.
Tools MUST assume that license file content is valid UTF-8 encoded text,
and SHOULD validate this and raise an error if it is not.</p>
<p>If the <code class="docutils literal notranslate"><span class="pre">paths</span></code> subkey is a non-empty array, build tools:</p>
<ul class="simple">
<li>MUST treat each value as a verbatim, literal file path, and
MUST NOT treat them as glob patterns.</li>
<li>MUST include each listed file in all distribution archives.</li>
<li>MUST NOT match any additional license files beyond those explicitly
statically specified by the user under the <code class="docutils literal notranslate"><span class="pre">paths</span></code> subkey.</li>
<li>MUST list each file path under a <code class="docutils literal notranslate"><span class="pre">License-File</span></code> field in the core metadata.</li>
<li>MUST raise an error if one or more paths do not correspond to a valid file
in the project source that can be copied into the distribution archive.</li>
</ul>
<p>If the <code class="docutils literal notranslate"><span class="pre">globs</span></code> subkey is a non-empty array, build tools:</p>
<ul class="simple">
<li>MUST treat each value as a glob pattern, and MUST raise an error if the
pattern contains invalid glob syntax.</li>
<li>MUST include all files matched by at least one listed pattern in all
distribution archives.</li>
<li>MAY exclude files matched by glob patterns that can be unambiguously
determined to be backup, temporary, hidden, OS-generated or VCS-ignored.</li>
<li>MUST list each matched file path under a <code class="docutils literal notranslate"><span class="pre">License-File</span></code> field in the
core metadata.</li>
<li>SHOULD issue a warning and MAY raise an error if no files are matched.</li>
<li>MAY issue a warning if any individual user-specified pattern
does not match at least one file.</li>
</ul>
<p>If the <code class="docutils literal notranslate"><span class="pre">license-files</span></code> key is present, and the <code class="docutils literal notranslate"><span class="pre">paths</span></code> or <code class="docutils literal notranslate"><span class="pre">globs</span></code> subkey
is set to a value of an empty array, then tools MUST NOT include any
license files and MUST NOT raise an error.</p>
<p id="default-patterns">If the <code class="docutils literal notranslate"><span class="pre">license-files</span></code> key is not present and not explicitly marked as
<code class="docutils literal notranslate"><span class="pre">dynamic</span></code>, tools MUST assume a default value of the following:</p>
<div class="highlight-toml notranslate"><div class="highlight"><pre><span></span><span class="n">license-files</span><span class="p">.</span><span class="n">globs</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">[</span><span class="s2">&quot;LICEN[CS]E*&quot;</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;COPYING*&quot;</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;NOTICE*&quot;</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;AUTHORS*&quot;</span><span class="p">]</span>
</pre></div>
</div>
<p>In this case, tools MAY issue a warning if no license files are matched,
but MUST NOT raise an error.</p>
<p>If the <code class="docutils literal notranslate"><span class="pre">license-files</span></code> key is marked as <code class="docutils literal notranslate"><span class="pre">dynamic</span></code> (and not present),
to preserve consistent behavior with current tools and help ensure the packages
they create are legally distributable, build tools SHOULD default to
including at least the license files matching the above patterns, unless the
user has explicitly specified their own.</p>
</section>
<section id="deprecate-license-key-table-subkeys">
<span id="spec-key-license"></span><h4><a class="toc-backref" href="#deprecate-license-key-table-subkeys" role="doc-backlink">Deprecate <code class="docutils literal notranslate"><span class="pre">license</span></code> key table subkeys</a></h4>
<p>Table values for the <code class="docutils literal notranslate"><span class="pre">license</span></code> key in the <code class="docutils literal notranslate"><span class="pre">[project]</span></code> table,
including the <code class="docutils literal notranslate"><span class="pre">text</span></code> and <code class="docutils literal notranslate"><span class="pre">file</span></code> table subkeys, are now deprecated.
If the new <code class="docutils literal notranslate"><span class="pre">license-files</span></code> key is present,
build tools MUST raise an error if the <code class="docutils literal notranslate"><span class="pre">license</span></code> key is defined
and has a value other than a single top-level string.</p>
<p>If the new <code class="docutils literal notranslate"><span class="pre">license-files</span></code> key is not present
and the <code class="docutils literal notranslate"><span class="pre">text</span></code> subkey is present in a <code class="docutils literal notranslate"><span class="pre">license</span></code> table,
tools SHOULD issue a warning informing users it is deprecated
and recommending a license expression as a top-level string key instead.</p>
<p>Likewise, if the new <code class="docutils literal notranslate"><span class="pre">license-files</span></code> key is not present
and the <code class="docutils literal notranslate"><span class="pre">file</span></code> subkey is present in the <code class="docutils literal notranslate"><span class="pre">license</span></code> table,
tools SHOULD issue a warning informing users it is deprecated and recommending
the <code class="docutils literal notranslate"><span class="pre">license-files</span></code> key instead.</p>
<p>If the specified license <code class="docutils literal notranslate"><span class="pre">file</span></code> is present in the source tree,
build tools SHOULD use it to fill the <code class="docutils literal notranslate"><span class="pre">License-File</span></code> field
in the core metadata, and MUST include the specified file
as if it were specified in a <code class="docutils literal notranslate"><span class="pre">license-file.paths</span></code> field.
If the file does not exist at the specified path,
tools MUST raise an informative error as previously specified.
However, tools MUST also still assume the
<a class="reference internal" href="#default-patterns"><span class="std std-ref">specified default value</span></a>
for the <code class="docutils literal notranslate"><span class="pre">license-files</span></code> key and also include,
in addition to a license file specified under the <code class="docutils literal notranslate"><span class="pre">license.file</span></code> subkey,
any license files that match the specified list of patterns.</p>
<p>Table values for the <code class="docutils literal notranslate"><span class="pre">license</span></code> key MAY be removed
from a new version of the specification in a future PEP.</p>
</section>
</section>
<section id="license-files-in-project-formats">
<span id="spec-project-formats"></span><h3><a class="toc-backref" href="#license-files-in-project-formats" role="doc-backlink">License files in project formats</a></h3>
<p>A few minor additions will be made to the relevant existing specifications
to document, standardize and clarify what is already currently supported,
allowed and implemented behavior, as well as explicitly mention the root
license directory the license files are located in and relative to for
each format, per the <a class="reference internal" href="#spec-field-license-file"><span class="std std-ref">Add License-File field</span></a> section.</p>
<dl class="simple">
<dt><strong>Project source trees</strong></dt><dd>As described in the <a class="reference internal" href="#spec-source-metadata"><span class="std std-ref">Project source metadata</span></a> section, the
<a class="reference external" href="https://packaging.python.org/specifications/declaring-project-metadata/">Declaring Project Metadata specification</a>
will be updated to reflect that license file paths MUST be relative to the
project root directory; i.e. the directory containing the <code class="docutils literal notranslate"><span class="pre">pyproject.toml</span></code>
(or equivalently, other legacy project configuration,
e.g. <code class="docutils literal notranslate"><span class="pre">setup.py</span></code>, <code class="docutils literal notranslate"><span class="pre">setup.cfg</span></code>, etc).</dd>
<dt><strong>Source distributions</strong> <em>(sdists)</em></dt><dd>The <a class="reference external" href="https://packaging.python.org/specifications/source-distribution-format/">sdist specification</a> will be updated to reflect that for
<code class="docutils literal notranslate"><span class="pre">Metadata-Version</span></code> is <code class="docutils literal notranslate"><span class="pre">2.4</span></code> or greater, the sdist MUST contain any
license files specified by <code class="docutils literal notranslate"><span class="pre">License-File</span></code> in the <code class="docutils literal notranslate"><span class="pre">PKG-INFO</span></code> at their
respective paths relative to the top-level directory of the sdist
(containing the <code class="docutils literal notranslate"><span class="pre">pyproject.toml</span></code> and the <code class="docutils literal notranslate"><span class="pre">PKG-INFO</span></code> core metadata).</dd>
<dt><strong>Built distributions</strong> <em>(wheels)</em></dt><dd>The <a class="reference external" href="https://packaging.python.org/specifications/binary-distribution-format/">wheel specification</a> will be updated to reflect that if
the <code class="docutils literal notranslate"><span class="pre">Metadata-Version</span></code> is <code class="docutils literal notranslate"><span class="pre">2.4</span></code> or greater and one or more
<code class="docutils literal notranslate"><span class="pre">License-File</span></code> fields is specified, the <code class="docutils literal notranslate"><span class="pre">.dist-info</span></code> directory MUST
contain a <code class="docutils literal notranslate"><span class="pre">licenses</span></code> subdirectory, which MUST contain the files listed
in the <code class="docutils literal notranslate"><span class="pre">License-File</span></code> fields in the <code class="docutils literal notranslate"><span class="pre">METADATA</span></code> file at their respective
paths relative to the <code class="docutils literal notranslate"><span class="pre">licenses</span></code> directory.</dd>
<dt><strong>Installed projects</strong></dt><dd>The <a class="reference external" href="https://packaging.python.org/specifications/recording-installed-packages/">Recording Installed Projects specification</a> will be
updated to reflect that if the <code class="docutils literal notranslate"><span class="pre">Metadata-Version</span></code> is <code class="docutils literal notranslate"><span class="pre">2.4</span></code> or greater
and one or more <code class="docutils literal notranslate"><span class="pre">License-File</span></code> fields is specified, the <code class="docutils literal notranslate"><span class="pre">.dist-info</span></code>
directory MUST contain a <code class="docutils literal notranslate"><span class="pre">licenses</span></code> subdirectory which MUST contain
the files listed in the <code class="docutils literal notranslate"><span class="pre">License-File</span></code> fields in the <code class="docutils literal notranslate"><span class="pre">METADATA</span></code> file
at their respective paths relative to the <code class="docutils literal notranslate"><span class="pre">licenses</span></code> directory,
and that any files in this directory MUST be copied from wheels
by install tools.</dd>
</dl>
</section>
<section id="converting-legacy-metadata">
<span id="spec-converting-metadata"></span><h3><a class="toc-backref" href="#converting-legacy-metadata" role="doc-backlink">Converting legacy metadata</a></h3>
<p>Tools MUST NOT use the contents of the <code class="docutils literal notranslate"><span class="pre">license.text</span></code> <code class="docutils literal notranslate"><span class="pre">[project]</span></code> key
(or equivalent tool-specific format),
license classifiers or the value of the core metadata <code class="docutils literal notranslate"><span class="pre">License</span></code> field
to fill the top-level string value of the <code class="docutils literal notranslate"><span class="pre">license</span></code> key
or the core metadata <code class="docutils literal notranslate"><span class="pre">License-Expression</span></code> field
without informing the user and requiring unambiguous, affirmative user action
to select and confirm the desired license expression value before proceeding.</p>
<p>Tool authors, who need to automatically convert license classifiers to
SPDX identifiers, can use the
<a class="reference internal" href="appendix-mapping-classifiers/#spec-mapping-classifiers-identifiers"><span class="std std-ref">recommendation</span></a> prepared by
the PEP authors.</p>
</section>
</section>
<section id="backwards-compatibility">
<span id="id8"></span><h2><a class="toc-backref" href="#backwards-compatibility" role="doc-backlink">Backwards Compatibility</a></h2>
<p>Adding a new, dedicated <code class="docutils literal notranslate"><span class="pre">License-Expression</span></code> core metadata field
and a top-level string value for the <code class="docutils literal notranslate"><span class="pre">license</span></code> key reserved for this purpose
in the <code class="docutils literal notranslate"><span class="pre">pyproject.toml</span></code> <code class="docutils literal notranslate"><span class="pre">[project]</span></code> table
unambiguously signals support for the specification in this PEP.
This avoids the risk of new tooling
misinterpreting a license expression as a free-form license description
or vice versa, and raises an error if and only if the user affirmatively
upgrades to the latest metadata version and adds the new field/key.</p>
<p>The legacy <code class="docutils literal notranslate"><span class="pre">License</span></code> core metadata field
and the <code class="docutils literal notranslate"><span class="pre">license</span></code> key table subkeys (<code class="docutils literal notranslate"><span class="pre">text</span></code> and <code class="docutils literal notranslate"><span class="pre">file</span></code>)
in the <code class="docutils literal notranslate"><span class="pre">pyproject.toml</span></code> <code class="docutils literal notranslate"><span class="pre">[project]</span></code> table
will be deprecated along with the license classifiers,
retaining backwards compatibility while gently preparing users for their
future removal. Such a removal would follow a suitable transition period, and
be left to a future PEP and a new version of the core metadata specification.</p>
<p>Formally specifying the new <code class="docutils literal notranslate"><span class="pre">License-File</span></code> core metadata field and the
inclusion of the listed files in the distribution merely codifies and
refines the existing practices in popular packaging tools, including the Wheel
and Setuptools projects, and is designed to be largely backwards-compatible
with their existing use of that field. Likewise, the new <code class="docutils literal notranslate"><span class="pre">license-files</span></code>
key in the <code class="docutils literal notranslate"><span class="pre">[project]</span></code> table of <code class="docutils literal notranslate"><span class="pre">pyproject.toml</span></code>
standardizes statically specifying the files to include,
as well as the default behavior, and allows other tools to make use of them,
while only having an effect once users and tools expressly adopt it.</p>
<p>Due to requiring license files not be flattened into <code class="docutils literal notranslate"><span class="pre">.dist-info</span></code> and
specifying that they should be placed in a dedicated <code class="docutils literal notranslate"><span class="pre">licenses</span></code> subdir,
wheels produced following this change will have differently-located
licenses relative to those produced via the previous unspecified,
installer-specific behavior, but as until this PEP there was no way of
discovering these files or accessing them programmatically, and this will
be further discriminated by a new metadata version, there aren’t any foreseen
mechanism for this to pose a practical issue.</p>
<p>Furthermore, this resolves existing compatibility issues with the current
ad hoc behavior, namely license files being silently clobbered if they have
the same names as others at different paths, unknowingly rendering the wheel
undistributable, and conflicting with the names of other metadata files in
the same directory. Formally specifying otherwise would in fact block full
forward compatibility with additional standard or installer-specified files
and directories added to <code class="docutils literal notranslate"><span class="pre">.dist-info</span></code>, as they too could conflict with
the names of existing licenses.</p>
<p>While minor additions will be made to the source distribution (sdist),
built distribution (wheel) and installed project specifications, all of these
are merely documenting, clarifying and formally specifying behaviors explicitly
allowed under their current respective specifications, and already implemented
in practice, and gating them behind the explicit presence of both the new
metadata versions and the new fields. In particular, sdists may contain
arbitrary files following the project source tree layout, and formally
mentioning that these must include the license files listed in the metadata
merely documents and codifies existing Setuptools practice. Likewise, arbitrary
installer-specific files are allowed in the <code class="docutils literal notranslate"><span class="pre">.dist-info</span></code> directory of wheels
and copied to installed projects, and again this PEP just formally clarifies
and standardizes what is already being done.</p>
<p>Finally, while this PEP does propose PyPI implement validation of the new
<code class="docutils literal notranslate"><span class="pre">License-Expression</span></code> and <code class="docutils literal notranslate"><span class="pre">License-File</span></code> fields, this has no effect on
existing packages, nor any effect on any new distributions uploaded unless they
explicitly choose to opt in to using these new fields while not
following the requirements in the specification. Therefore, this does not have
a backward compatibility impact, and in fact ensures forward compatibility with
any future changes by ensuring all distributions uploaded to PyPI with the new
fields are valid and conform to the specification.</p>
</section>
<section id="security-implications">
<span id="id9"></span><h2><a class="toc-backref" href="#security-implications" role="doc-backlink">Security Implications</a></h2>
<p>This PEP has no foreseen security implications: the <code class="docutils literal notranslate"><span class="pre">License-Expression</span></code>
field is a plain string and the <code class="docutils literal notranslate"><span class="pre">License-File</span></code> fields are file paths.
Neither introduces any known new security concerns.</p>
</section>
<section id="how-to-teach-this">
<span id="id10"></span><h2><a class="toc-backref" href="#how-to-teach-this" role="doc-backlink">How to Teach This</a></h2>
<p>The simple cases are simple: a single license identifier is a valid license
expression, and a large majority of packages use a single license.</p>
<p>The plan to teach users of packaging tools how to express their package’s
license with a valid license expression is to have tools issue informative
messages when they detect invalid license expressions, or when the deprecated
<code class="docutils literal notranslate"><span class="pre">License</span></code> field or license classifiers are used.</p>
<p>An immediate, descriptive error message if an invalid <code class="docutils literal notranslate"><span class="pre">License-Expression</span></code>
is used will help users understand they need to use SPDX identifiers in
this field, and catch them if they make a mistake.
For authors still using the now-deprecated, less precise and more redundant
<code class="docutils literal notranslate"><span class="pre">License</span></code> field or license classifiers, packaging tools will warn
them and inform them of the modern replacement, <code class="docutils literal notranslate"><span class="pre">License-Expression</span></code>.
Finally, for users who may have forgotten or not be aware they need to do so,
publishing tools will gently guide them toward including <code class="docutils literal notranslate"><span class="pre">license</span></code>
and <code class="docutils literal notranslate"><span class="pre">license-files</span></code> in their project source metadata.</p>
<p>Tools may also help with the conversion and suggest a license expression in
many, if not most common cases:</p>
<ul class="simple">
<li>The appendix <a class="reference internal" href="appendix-mapping-classifiers/#spec-mapping-classifiers-identifiers"><span class="std std-ref">Appendix: Mapping License Classifiers to SPDX Identifiers</span></a> provides
tool authors with recommendation on how to suggest a license expression produced
from legacy classifiers.</li>
<li>Tools may also be able to infer and suggest how to update
an existing <code class="docutils literal notranslate"><span class="pre">License</span></code> value in project source metadata
and convert that to a license expression,
as also <a class="reference internal" href="#spec-converting-metadata"><span class="std std-ref">specified in this PEP</span></a>.
For instance, a tool may suggest converting a value of <code class="docutils literal notranslate"><span class="pre">MIT</span></code>
in the <code class="docutils literal notranslate"><span class="pre">license.text</span></code> key in <code class="docutils literal notranslate"><span class="pre">[project]</span></code>
(or the equivalent in tool-specific formats)
to a top-level string value of the <code class="docutils literal notranslate"><span class="pre">license</span></code> key (or equivalent).
Likewise, a tool could suggest converting from a <code class="docutils literal notranslate"><span class="pre">License</span></code> of <code class="docutils literal notranslate"><span class="pre">Apache2</span></code>
(which is not a valid license expression
as <a class="reference internal" href="#spec-field-license-expression"><span class="std std-ref">defined in this PEP</span></a>)
to a <code class="docutils literal notranslate"><span class="pre">License-Expression</span></code> of <code class="docutils literal notranslate"><span class="pre">Apache-2.0</span></code>
(the equivalent valid license expression using an SPDX license identifier).</li>
</ul>
</section>
<section id="reference-implementation">
<span id="id11"></span><h2><a class="toc-backref" href="#reference-implementation" role="doc-backlink">Reference Implementation</a></h2>
<p>Tools will need to support parsing and validating license expressions in the
<code class="docutils literal notranslate"><span class="pre">License-Expression</span></code> field.</p>
<p>The <a class="reference external" href="https://github.com/nexB/license-expression/">license-expression library</a> is a reference Python
implementation that handles license expressions including parsing,
formatting and validation, using flexible lists of license symbols
(including SPDX license IDs and any extra identifiers included here).
It is licensed under Apache-2.0 and is already used in several projects,
including the <a class="reference external" href="https://github.com/spdx/tools-python/">SPDX Python Tools</a>,
the <a class="reference external" href="https://github.com/nexB/scancode-toolkit">ScanCode toolkit</a>
and the Free Software Foundation Europe (FSFE) <a class="reference external" href="https://reuse.software/">REUSE project</a>.</p>
</section>
<section id="rejected-ideas">
<span id="id12"></span><h2><a class="toc-backref" href="#rejected-ideas" role="doc-backlink">Rejected Ideas</a></h2>
<p>Many alternative ideas were proposed and after a careful consideration,
rejected. The exhaustive list including the rationale for rejecting can be found
in a <a class="reference internal" href="appendix-rejected-ideas/#rejected-ideas-details"><span class="std std-ref">separate page</span></a>.</p>
</section>
<section id="open-issues">
<h2><a class="toc-backref" href="#open-issues" role="doc-backlink">Open Issues</a></h2>
<section id="should-the-license-field-be-back-filled-or-mutually-exclusive">
<h3><a class="toc-backref" href="#should-the-license-field-be-back-filled-or-mutually-exclusive" role="doc-backlink">Should the <code class="docutils literal notranslate"><span class="pre">License</span></code> field be back-filled, or mutually exclusive?</a></h3>
<p>At present, this PEP explicitly allows, but does not formally recommend or
require, build tools to back-fill the <code class="docutils literal notranslate"><span class="pre">License</span></code> core metadata field with
the verbatim text from the <code class="docutils literal notranslate"><span class="pre">License-Expression</span></code> field. This would
presumably improve backwards compatibility and was suggested
by some on the Discourse thread. On the other hand, allowing it does
increase complexity and is less of a clean, consistent separation,
preventing the <code class="docutils literal notranslate"><span class="pre">License</span></code> field from being completely mutually exclusive
with the new <code class="docutils literal notranslate"><span class="pre">License-Expression</span></code> field and requiring that their values
match.</p>
<p>As such, it would be very useful to have a more concrete and specific
rationale and use cases for the back-filled data, and give fuller
consideration to any potential benefits or drawbacks of this approach,
in order to come to a final consensus on this matter that can be appropriately
justified here.</p>
<p>Therefore, is the status quo expressed here acceptable, allowing tools
leeway to decide this for themselves? Should this PEP formally recommend,
or even require, that tools back-fill this metadata (which would presumably
be reversed once a breaking revision of the metadata spec is issued)?
Or should this not be explicitly allowed, discouraged or even prohibited?</p>
</section>
<section id="should-custom-license-identifiers-be-allowed">
<h3><a class="toc-backref" href="#should-custom-license-identifiers-be-allowed" role="doc-backlink">Should custom license identifiers be allowed?</a></h3>
<p>The current version of this PEP retains the behavior of only specifying
the use of SPDX-defined license identifiers, as well as the explicitly defined
custom identifiers <code class="docutils literal notranslate"><span class="pre">LicenseRef-Public-Domain</span></code> and <code class="docutils literal notranslate"><span class="pre">LicenseRef-Proprietary</span></code>
to handle the two common cases where projects have a license, but it is not
one that has a recognized SPDX license identifier.</p>
<p>For maximum flexibility, custom <code class="docutils literal notranslate"><span class="pre">LicenseRef-&lt;CUSTOM-TEXT&gt;</span></code> license
identifiers could be allowed, which could potentially be useful for niche
cases or corporate environments where <code class="docutils literal notranslate"><span class="pre">LicenseRef-Proprietary</span></code> is not
appropriate or insufficiently specific, but relying on mainstream Python
build tooling and the <code class="docutils literal notranslate"><span class="pre">License-Expression</span></code> metadata field is still
desirable to use for this purpose.</p>
<p>This has the downsides, however, of not catching misspellings of the
canonically defined license identifiers and thus producing license metadata
that is not a valid match for what the author intended, as well as users
potentially thinking they have to prepend <code class="docutils literal notranslate"><span class="pre">LicenseRef</span></code> in front of valid
license identifiers, as there seems to be some previous confusion about.
Furthermore, this encourages the proliferation of bespoke license identifiers,
which obviates the purpose of enabling clear, unambiguous and well
understood license metadata for which this PEP was created.</p>
<p>Indeed, for niche cases that need specific, proprietary custom licenses,
they could always simply specify <code class="docutils literal notranslate"><span class="pre">LicenseRef-Proprietary</span></code>, and then
include the actual license files needed to unambiguously identify the license
regardless (if not using SPDX license identifiers) under the <code class="docutils literal notranslate"><span class="pre">License-File</span></code>
fields. Requiring standards-conforming tools to allow custom license
identifiers does not seem very useful, since standard tools will not recognize
bespoke ones or know how to treat them. By contrast, bespoke tools, which
would be required in any case to understand and act on custom identifiers,
are explicitly allowed, with good reason (thus the <code class="docutils literal notranslate"><span class="pre">SHOULD</span></code> keyword)
to not require that license identifiers conform to those listed here.
Therefore, this specification still allows such use in private corporate
environments or specific ecosystems, while avoiding the disadvantages of
imposing them on all mainstream packaging tools.</p>
<p>As an alternative, a literal <code class="docutils literal notranslate"><span class="pre">LicenseRef-Custom</span></code> identifier could be
defined, which would more explicitly indicate that the license cannot be
expressed with defined identifiers and the license text should be referenced
for details, without carrying the negative and potentially inappropriate
implications of <code class="docutils literal notranslate"><span class="pre">LicenseRef-Proprietary</span></code>. This would avoid the main
mentioned downsides (misspellings, confusion, license proliferation) of
the approve approach of allowing an arbitrary <code class="docutils literal notranslate"><span class="pre">LicenseRef</span></code>, while
addressing several of the potential theoretical scenarios cited for it.</p>
<p>On the other hand, as SPDX aims to (and generally does) encompass all
FSF-recognized “Free” and OSI-approved “Open Source” licenses,
and those sources are kept closely in sync and are now relatively stable,
anything outside those bounds would generally be covered by
<code class="docutils literal notranslate"><span class="pre">LicenseRef-Proprietary</span></code>, thus making <code class="docutils literal notranslate"><span class="pre">LicenseRef-Custom</span></code> less specific
in that regard, and somewhat redundant to it. Furthermore, it may mislead
authors of projects with complex/multiple licenses that they should use it
over specifying a license expression.</p>
<p>At present, the PEP retains the existing approach over either of these, given
the use cases and benefits were judged to be sufficiently marginal based
on the current understanding of the packaging landscape. For both these
proposals, however, if more concrete use cases emerge, this can certainly
be reconsidered, either for this current PEP or a future one (before or
in tandem with actually removing the legacy unstructured <code class="docutils literal notranslate"><span class="pre">License</span></code>
metadata field). Not defining this now enables allowing it later
(or still now, with custom packaging tools), without affecting backward
compatibility, while the same is not so if they are allowed now and later
determined to be unnecessary or too problematic in practice.</p>
</section>
</section>
<section id="appendices">
<h2><a class="toc-backref" href="#appendices" role="doc-backlink">Appendices</a></h2>
<p>A list of auxilliary documents is provided:</p>
<ul class="simple">
<li>Detailed <a class="reference internal" href="appendix-examples/#examples"><span class="std std-ref">Licensing Examples</span></a>,</li>
<li><a class="reference internal" href="appendix-user-scenarios/#user-scenarios"><span class="std std-ref">User Scenarios</span></a>,</li>
<li><a class="reference internal" href="appendix-license-survey/#license-doc-python"><span class="std std-ref">License Documentation in Python and Other Projects</span></a>,</li>
<li><a class="reference internal" href="appendix-mapping-classifiers/#spec-mapping-classifiers-identifiers"><span class="std std-ref">Mapping License Classifiers to SPDX Identifiers</span></a>,</li>
<li><a class="reference internal" href="appendix-rejected-ideas/#rejected-ideas-details"><span class="std std-ref">Rejected Ideas</span></a> in detail.</li>
</ul>
</section>
<section id="acknowledgments">
<h2><a class="toc-backref" href="#acknowledgments" role="doc-backlink">Acknowledgments</a></h2>
<ul class="simple">
<li>Alyssa Coghlan</li>
<li>Kevin P. Fleming</li>
<li>Pradyun Gedam</li>
<li>Oleg Grenrus</li>
<li>Dustin Ingram</li>
<li>Chris Jerdonek</li>
<li>Cyril Roelandt</li>
<li>Luis Villa</li>
</ul>
</section>
<section id="copyright">
<h2><a class="toc-backref" href="#copyright" role="doc-backlink">Copyright</a></h2>
<p>This document is placed in the public domain or under the
<a class="reference external" href="https://creativecommons.org/publicdomain/zero/1.0/">CC0-1.0-Universal license</a>, whichever is more permissive.</p>
</section>
</section>
<hr class="docutils" />
<p>Source: <a class="reference external" href="https://github.com/python/peps/blob/main/peps/pep-0639.rst">https://github.com/python/peps/blob/main/peps/pep-0639.rst</a></p>
<p>Last modified: <a class="reference external" href="https://github.com/python/peps/commits/main/peps/pep-0639.rst">2024-04-06 18:23:15 GMT</a></p>

        </article>
        <nav id="pep-sidebar">
            <h2>Contents</h2>
            <ul>
<li><a class="reference internal" href="#abstract">Abstract</a></li>
<li><a class="reference internal" href="#goals">Goals</a></li>
<li><a class="reference internal" href="#non-goals">Non-Goals</a></li>
<li><a class="reference internal" href="#motivation">Motivation</a></li>
<li><a class="reference internal" href="#rationale">Rationale</a></li>
<li><a class="reference internal" href="#terminology">Terminology</a></li>
<li><a class="reference internal" href="#specification">Specification</a><ul>
<li><a class="reference internal" href="#core-metadata">Core metadata</a><ul>
<li><a class="reference internal" href="#add-license-expression-field">Add <code class="docutils literal notranslate"><span class="pre">License-Expression</span></code> field</a></li>
<li><a class="reference internal" href="#add-license-file-field">Add <code class="docutils literal notranslate"><span class="pre">License-File</span></code> field</a></li>
<li><a class="reference internal" href="#deprecate-license-field">Deprecate <code class="docutils literal notranslate"><span class="pre">License</span></code> field</a></li>
<li><a class="reference internal" href="#deprecate-license-classifiers">Deprecate license classifiers</a></li>
</ul>
</li>
<li><a class="reference internal" href="#project-source-metadata">Project source metadata</a><ul>
<li><a class="reference internal" href="#add-string-value-to-license-key">Add string value to <code class="docutils literal notranslate"><span class="pre">license</span></code> key</a></li>
<li><a class="reference internal" href="#add-license-files-key">Add <code class="docutils literal notranslate"><span class="pre">license-files</span></code> key</a></li>
<li><a class="reference internal" href="#deprecate-license-key-table-subkeys">Deprecate <code class="docutils literal notranslate"><span class="pre">license</span></code> key table subkeys</a></li>
</ul>
</li>
<li><a class="reference internal" href="#license-files-in-project-formats">License files in project formats</a></li>
<li><a class="reference internal" href="#converting-legacy-metadata">Converting legacy metadata</a></li>
</ul>
</li>
<li><a class="reference internal" href="#backwards-compatibility">Backwards Compatibility</a></li>
<li><a class="reference internal" href="#security-implications">Security Implications</a></li>
<li><a class="reference internal" href="#how-to-teach-this">How to Teach This</a></li>
<li><a class="reference internal" href="#reference-implementation">Reference Implementation</a></li>
<li><a class="reference internal" href="#rejected-ideas">Rejected Ideas</a></li>
<li><a class="reference internal" href="#open-issues">Open Issues</a><ul>
<li><a class="reference internal" href="#should-the-license-field-be-back-filled-or-mutually-exclusive">Should the <code class="docutils literal notranslate"><span class="pre">License</span></code> field be back-filled, or mutually exclusive?</a></li>
<li><a class="reference internal" href="#should-custom-license-identifiers-be-allowed">Should custom license identifiers be allowed?</a></li>
</ul>
</li>
<li><a class="reference internal" href="#appendices">Appendices</a></li>
<li><a class="reference internal" href="#acknowledgments">Acknowledgments</a></li>
<li><a class="reference internal" href="#copyright">Copyright</a></li>
</ul>

            <br>
            <a id="source" href="https://github.com/python/peps/blob/main/peps/pep-0639.rst">Page Source (GitHub)</a>
        </nav>
    </section>
    <script src="../_static/colour_scheme.js"></script>
    <script src="../_static/wrap_tables.js"></script>
    <script src="../_static/sticky_banner.js"></script>
</body>
</html>